# 2.2.5 Cycle 5: Title screen

## Design

In this cycle I will be writing the first scene of my game: the title screen. This will include the title of the game in large text alongside play and sign out buttons and text informing the player what their username is. I will also be writing another scene which will inform the player they must sign in along with a button that takes them to the form, in case the check I developed in Cycle 4

### Objectives

* [x] Initialise the Kaboom.js engine.
* [x] Create a new scene "title".
* [x] Render large text with game name at the top centre of the screen.
* [x] Add buttons to centre of screen to play and sign out.
* [x] Display text slightly below buttons telling the player what their username is.
* [x] Create another new scene "login info".
* [x] Display text briefly telling the player they must sign in.
* [x] Add button to centre of screen to sign in.
* [x] Continually check for sign in button to be clicked, if it does get clicked go to login page.

### Usability Features

### Key Variables

| Variable Name       | Use                                                                                                                                                                                                                                 |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Button(x, y, label) | This is a function that draws a grey rectangle at the given co-ordinates and adds white text on top of it. It is handy to have this instead of having to specify the properties of the rectangle each time I want to add a button.  |
| center()            | Returns x and y co-ordinates of the centre of the game screen.                                                                                                                                                                      |

### Pseudocode

{% code title="index.js" %}
```
kaboom()

scene("title", titleScene)
scene("login info", loginInfoScene)

sendPostRequest('/get-username', session, 
    success: res => {
        username = res
        
        go("title")
    }
    error: => {
        go("login info")
    }
)
```
{% endcode %}

{% code title="scenes/title.js" %}
```
func titleScene:
    add_text({
        text: "PIXEL RACER",
        size: 96,
        pos: centerX, 10,
        anchor: top
    })
    
    playButton = Button(centerX, centerY - 40, "Play")
    signOutButton = Button(centerX, centerY + 40, "Sign Out")
    
    add({
        text: "Signed in as " + username,
        size: 22,
        colour: lightergrey,
        pos: centerX, centerY + 100
    })
```
{% endcode %}

{% code title="scenes/login-info.js" %}
```
func loginInfoScene:
    add_text({
        text: "PIXEL RACER",
        size: 96,
        pos: centerX, 10,
        anchor: top
    })
    
    add_text({
        text: "In order to play, you must sign in",
        size: 20,
        pos: centerX, centerY - 60,
    })
    
    signInButton = Button(centerX, centerY, "Sign In")
    
    signInButton.clicked:
        goToPage("login.html")
```
{% endcode %}

{% code title="sprites/button.js" %}
```
func Button(x, y, label):
    button = add(
        rectangle: 200x60,
        colour: grey,
        pos: x, y,
        anchor: center
    )
    
    add_text(
        text: label,
        size: 25,
        colour: white,
        pos: x, y,
        anchor: center
    )
    
    return button
```
{% endcode %}

## Development

### Outcome



### Challenges



## Testing

Evidence for testing

### Tests

<table><thead><tr><th width="95">Test</th><th width="158">Instructions</th><th width="171">What I expect</th><th width="174">What actually happens</th><th>Pass/Fail</th></tr></thead><tbody><tr><td>1</td><td>Initialise Kaboom.js game engine with background set to light blue.</td><td>Light blue background takes up entire page.</td><td>As expected</td><td>Pass</td></tr><tr><td>2</td><td>If a username is returned from POST request, go to new scene "title". For now title scene will output a message to console.</td><td>When I'm signed in, a message will appear in the browser console indicating I am now in the title scene.</td><td>As expected</td><td>Pass</td></tr><tr><td>3</td><td>Display large text of the game name "PIXEL RACER" at the top of the screen in the title scene.</td><td>On loading the page, large grey text saying "PIXEL RACER" appears at the top centre of the screen.</td><td>As expected</td><td>Pass</td></tr><tr><td>4</td><td>Create a function that draws a rectangle with text on top at a given position with a given label, and call it twice 40px above and below centre for play and sign out.</td><td>Two grey buttons with text "Play" and "Sign Out" respectively appear at the centre of the screen with a small space between.</td><td>As expected</td><td>Pass</td></tr><tr><td>5</td><td>Add text stating player's username slightly below buttons at centre.</td><td>Small grey text shows below buttons declaring my username.</td><td>As expected</td><td>Pass</td></tr><tr><td>6</td><td>If the POST request resulted in a 404 error, go to scene "login info". For now this scene will just output a message to the console.</td><td>When I'm not signed in, for example if I access the game through an incognito window, a message will be outputted to browser console indicating I am in the login info scene.</td><td>As expected</td><td>Pass</td></tr><tr><td>7</td><td>Render same title text as "title" scene, alongside a message saying you must sign in to play and a sign in button in the centre of screen.</td><td>Title text, informative message, and button with text "Sign In" appear on screen when not signed in.</td><td>As expected</td><td>Pass</td></tr><tr><td>8</td><td>Continually check for the sign in button being clicked. If it is clicked, go to sign-in page.</td><td>When I click the "Sign In" button when signed out I am redirected to the sign-in page.</td><td>As expected</td><td>Pass</td></tr></tbody></table>

### Evidence

<figure><img src="../.gitbook/assets/image (40).png" alt=""><figcaption><p>Test 1: Light blue background of Kaboom.js initialisation takes up entire page.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (41).png" alt=""><figcaption><p>Test 2: Temporary output tells me I am in the title scene.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (42).png" alt=""><figcaption><p>Test 3: Large text "PIXEL RACER" at top centre of title scene.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (43).png" alt=""><figcaption><p>Test 4: Play and Sign Out buttons in centre of screen.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (44).png" alt=""><figcaption><p>Test 5: Small text with username shown below buttons.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (45).png" alt=""><figcaption><p>Test 6: Temporary output to tell me I am in the login info scene.</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image (46).png" alt=""><figcaption><p>Test 7: Text telling player they must sign in along with button in centre of login info scene.</p></figcaption></figure>

{% embed url="https://youtu.be/3N7TNGef8cM" %}
Test 8: Sign In button takes me to sign-in form page.
{% endembed %}
