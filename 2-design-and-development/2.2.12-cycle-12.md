# 2.2.12 Cycle 12: Finish line

## Design

In [Cycle 8](2.2.8-cycle-8.md) I forgot to add the finish line. This will appear at the end of the racing track. When the player collides with the finish line, their car will stop accelerating and eventually come to a stop. Additionally, the stopwatch created in [Cycle 11](2.2.11-cycle-11.md) will stop counting anymore seconds and text saying "FINISH!" will appear for a few seconds in the centre of the screen. In a later cycle, I will add a level-specific leaderboard that shows after finish, which will display how each player performed in the specific level and their overall standing.&#x20;

### Objectives

* [x] During world generation, add finish line on the road at Y co-ordinate 20 (20 blocks from the end of the road).
* [x] When rendering the world, if the block name is "chest" or "finish", add that as a tag to the sprite so it can be identified.
* [x] On player collision with the finish line, end the stopwatch, stop accelerating the car, and display text "FINISH!" in the centre of the screen for a few seconds.

### Usability Features

### Key Variables

| Variable Name | Use |
| ------------- | --- |
|               |     |

### Pseudocode

```
```

## Development

### Outcome



### Challenges



## Testing

Evidence for testing

### Tests

<table><thead><tr><th width="95">Test</th><th width="158">Instructions</th><th width="171">What I expect</th><th width="174">What actually happens</th><th>Pass/Fail</th></tr></thead><tbody><tr><td>1</td><td>Add finish line blocks on the road 20 blocks away from the end of the world.</td><td>Finish line appears only on the road near the end of the world.</td><td>As expected</td><td>Pass</td></tr><tr><td>2</td><td>Output to console whenever the player collides with the finish line.</td><td>When I cross the finish line, a message is outputted to the browser console.</td><td>As expected</td><td>Pass</td></tr><tr><td>3</td><td>When the player collides with the finish line, set their acceleration to 0.</td><td>My car gradually decelerates until coming to a standstill after I cross the finish line.</td><td>As expected</td><td>Pass</td></tr><tr><td>4</td><td>When the player collides with the finish line, stop updating the stopwatch.</td><td>The stopwatch stops counting further seconds or minutes after I cross the finish line.</td><td>Uncaught ReferenceError: s is not defined</td><td>Fail</td></tr><tr><td>5</td><td>When the player collides with the finish line, send a custom window event. In the level scene, clear the stopwatch timeout on this event.</td><td>The stopwatch stops counting further seconds or minutes after I cross the finish line.</td><td>As expected</td><td>Pass</td></tr><tr><td>6</td><td>When the player collides with the finish line, display large text "FINISH!" in the centre of the screen. After 5 seconds, destroy the text.</td><td>When I cross the finish line, the text "FINISH!" appears in the centre of the screen and disappears after 5 seconds.</td><td>As expected</td><td>Pass</td></tr></tbody></table>

### Evidence

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption><p>Test 1: Finish line near the end of the world.</p></figcaption></figure>

{% embed url="https://youtu.be/IBq4dKUC18I" %}
Test 2: Message outputted to browser console when the player crosses the finish line
{% endembed %}

{% embed url="https://youtu.be/MSvJSJ9IEHI" %}
Test 3: Player stops accelerating and starts decelerating after crossing finish
{% endembed %}

{% embed url="https://youtu.be/Fn5xYPkuLH0" %}
Test 4: Game crashes after crossing finish with error "Uncaught ReferenceError: s is not defined"
{% endembed %}

{% embed url="https://youtu.be/cP2ZMIFgKlc" %}
Test 5: Stopwatch stops counting after player crosses the finish line
{% endembed %}

{% embed url="https://youtu.be/wXIa2e84xqs" %}
Test 6: "FINISH!" text for five seconds after the player crosses the finish line
{% endembed %}
