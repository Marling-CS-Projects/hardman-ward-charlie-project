# 2.2.14 Cycle 14: Health bar

## Design

In this cycle, I will be setting up the player's health bar. The player will have ten health points, each represented by a red heart. Health points the player has lost will be represented by dark grey hearts. For example, a player with 7 health points would have 7 red hearts and 3 dark grey hearts.&#x20;

When the player runs out of health points, they will die which will involve the screen turning black and slowly fading back in over a period of ten seconds during which the player will be unable to move their car.

### Objectives

* [ ] Add health property to the player's car which will usually be set to 10 by default.
* [ ] Continually draw hearts for each of the player's health points.
* [ ] Draw empty hearts for the health points the player lacks.
* [ ] If the player dies, set their acceleration and speed to 0 to prevent them moving.
* [ ] Draw a large black rectangle covering the whole of the screen.
* [ ] Over 10 seconds, decrease the opacity of the rectangle until it has reached 0, then destroy it.&#x20;
* [ ] Once finished, set the player's acceleration back to its ordinary value so the player can move their car again.
* [ ] Set health points back to 10.

### Usability Features

### Key Variables

| Variable Name | Use |
| ------------- | --- |
|               |     |

### Pseudocode

{% code title="sprites/car.js" %}
```
func setupHealth(car):
    car.health = 10
    
    update:
        if car.health < 0:
            car.health = 0
            
        if car.health > 10:
            car.health = 10
            
        destroySprites("heart")
        
        for i in range(0, 10):
            add({
                sprite: (i < car.health) then "heart" else "heart_empty",
                fixed,
                pos: {
                    x: 20 + (i * 30),
                    y: 20,
                    z: 3
                },
                "heart"
            })
            
        if car.health == 0:
            die(car)
            
func die(car):
    car.acceleration = 0
    car.speed = 0
    car.pos.x = 800 + (car.index * 100)
    car.angle = 0
    
    function revive(o = 1):
        destroySprites("black")
        
        add({
            rectangle: width, height,
            colour: black,
            fixed,
            opacity: o,
            pos: {
                x: 0,
                y: 0,
                z: 4
            },
            "black"
        })
        
        car.health++
        
        if o > 0:
            setTimeout(revive, args = o - 0.1, 1000)
        else:
            car.acceleration = 0.2
            
    revive()
```
{% endcode %}

## Development

### Outcome



### Challenges



## Testing

Evidence for testing

### Tests

<table><thead><tr><th width="95">Test</th><th width="158">Instructions</th><th width="171">What I expect</th><th width="174">What actually happens</th><th>Pass/Fail</th></tr></thead><tbody><tr><td>1</td><td></td><td></td><td></td><td></td></tr></tbody></table>

### Evidence

